<div class="container">
  <h1>Registrar Pago</h1>

  <div class="card">
    <label for="metodo">Método de Pago:</label>
    <select id="metodo" name="metodo" [(ngModel)]="metodoSeleccionado">
      <option value="pago_movil">Pago Móvil</option>
      <option value="transferencia">Transferencia</option>
    </select>

    <div *ngIf="metodoSeleccionado === 'pago_movil'" class="info-pago">
      <p><strong>Banco:</strong> Banco del Pueblo</p>
      <p><strong>Teléfono:</strong> 0414-1234567</p>
      <p><strong>CI/RIF:</strong> V12345678</p>
    </div>

    <div *ngIf="metodoSeleccionado === 'transferencia'" class="info-pago">
      <p><strong>Banco:</strong> Banco Nacional</p>
      <p><strong>Nro de Cuenta:</strong> 0102-0123-4567-8901</p>
      <p><strong>Titular:</strong> MCL Relojes y Accesorios</p>
      <p><strong>CI/RIF:</strong> J123456789</p>
    </div>

    <form (ngSubmit)="enviarPago()" #pagoForm="ngForm">
      <div class="monto-box">
        <label for="monto">Monto a Pagar:</label>
        <input id="monto" type="number" [value]="montoSistema" disabled />
      </div>

      <p><strong>Una vez hecho el pago, ingresa el número de referencia aquí:</strong></p>
      <label for="referencia">Número de Referencia:</label>
      <input
        id="referencia"
        type="text"
        name="referencia"
        [(ngModel)]="referencia"
        pattern="^[0-9]{20,30}$"
        required
        placeholder="Ingresa el número de referencia del pago"
      />

      <label for="imagen">Captura del Comprobante de Pago (obligatorio):</label>
<div
  class="imagen-upload"
  (click)="fileInput.click()"
  style="border: 2px dashed #6c757d; padding: 20px; text-align: center; cursor: pointer; border-radius: 8px;"
>
  <span *ngIf="!imagenBase64">Seleccionar imagen...</span>
  <img
    *ngIf="imagenBase64"
    [src]="imagenBase64"
    alt="Imagen seleccionada"
    style="max-width: 100%; max-height: 200px; margin-top: 10px; border-radius: 4px;"
  />
</div>
<input
  #fileInput
  type="file"
  (change)="onFileSelected($event)"
  accept="image/*"
  style="display: none"
/>
      <div *ngIf="!imagenBase64" style="color: red; font-size: 0.9em; margin-top: 5px;">
        ⚠️ No has subido una captura del comprobante.
      </div>

      <button type="submit">Enviar</button>
    </form>
  </div>

  <div class="admin-btn-container">
    <a href="/confirmar-pago">
      <button class="admin-btn">Ir a Confirmar Pagos (Admin)</button>
    </a>
  </div>
</div>






